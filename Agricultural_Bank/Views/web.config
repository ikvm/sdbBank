<?xml version="1.0"?>

<configuration>
  <configSections>
    <sectionGroup name="system.web.webPages.razor" type="System.Web.WebPages.Razor.Configuration.RazorWebSectionGroup, System.Web.WebPages.Razor, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35">
      <section name="host" type="System.Web.WebPages.Razor.Configuration.HostSection, System.Web.WebPages.Razor, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" requirePermission="false" />
      <section name="pages" type="System.Web.WebPages.Razor.Configuration.RazorPagesSection, System.Web.WebPages.Razor, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" requirePermission="false" />
    </sectionGroup>
  </configSections>

  <system.web.webPages.razor>
    <host factoryType="System.Web.Mvc.MvcWebRazorHostFactory, System.Web.Mvc, Version=5.2.3.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
    <pages pageBaseType="System.Web.Mvc.WebViewPage">
      <namespaces>
        <add namespace="System.Web.Mvc" />
        <add namespace="System.Web.Mvc.Ajax" />
        <add namespace="System.Web.Mvc.Html" />
        <add namespace="System.Web.Routing" />
        <add namespace="Agricultural_Bank" />
      </namespaces>
    </pages>
  </system.web.webPages.razor>

  <appSettings>
    <add key="webpages:Enabled" value="false" />




    <!--
    #===============================================================================
    # 网上支付平台系统配置段 - 生产环境 - 请勿更改                      
    #===============================================================================
    #网上支付平台通讯方式（http / https）
    -->
    <add key="TrustPayConnectMethod" value="https"/>
    <!--#网上支付平台服务器名-->
    <add key="TrustPayServerName" value="pay.abchina.com"/>
    <!--#网上支付平台交易端口-->
    <add key="TrustPayServerPort" value="443"/>
    <!--#网上支付平台接口特性-->
    <add key="TrustPayNewLine" value="2"/>
    <!--#网上支付平台交易网址-->
    <add key="TrustPayTrxURL" value="/ebusnew/trustpay/ReceiveMerchantTrxReqServlet"/>
    <!--#商户通过浏览器提交网上支付平台交易网址-->
    <add key="TrustPayIETrxURL" value="https://pay.abchina.com/ebus/ReceiveMerchantIERequestServlet"/>
    <!--#代理配置信息，商户如果通过代理地址访问银行支付平台的需配置-->
    <add key="ProxyIP" value=""/>
    <add key="ProxyPort" value=""/>
    <!--
    #==========================================================================================
    # 网上支付平台系统配置段 - 生产环境 - 更改证书存放路径，使其和本地存放路径相匹配（绝对路径）
    #==========================================================================================
    #网上支付平台证书
    -->
    <add key="TrustPayCertFile" value="D:\cert_ABC\TrustPay.cer"/>
    <!--#农行根证书文件-->
    <add key="TrustStoreFile" value="D:\cert_ABC\abc.truststore"/>
    <!--#农行根证书文件密码-->
    <add key="TrustStorePassword" value="changeit"/>
    <!--
    #==============================================================================
    # 商户资料段 (请更改)                                                                  
    #==============================================================================   
    -->
    <!--#商户代码-->
    <add key="MerchantID" value="103885019990001,103885019990001"/>
    <!--<add key="MerchantID" value="103881099990013"/>-->
    <!--#商户通过浏览器提交网上支付平台交易失败网址-->
    <add key="MerchantErrorURL" value="http://localhost:3226/WebSite/MerchantIEFailure.aspx"/>
    <!--
    #==============================================================================
    # 商户系统配置段 (请更改)                                                             
    #==============================================================================
    #交易日志开关（true: 表示写日志， false: 表示不写日志）
    #如果为true，需要填写 #交易日志文件存放位置
    -->
    <add key="EnableLog" value="true"/>
    <!--
    #证书储存媒体
    #0: File
    #1: Hardware
    -->
    <add key="MerchantKeyStoreType" value="0"/>
    <!--#商户证书储存目录档名（当KeyStoreType=0时，必输设定）-->
    <add key="MerchantCertFile" value="D:\WORK\cert\103885019990001.pfx,D:\WORK\cert\103885019990001.pfx"/>
    <!--#商户私钥加密密码（当KeyStoreType0时，必输设定）-->
    <add key="MerchantCertPassword" value="12341234,12341234"/>
    <!--#Sign Server地址（当KeyStoreType=1时，必输设定）-->
    <add key="SignServerIP" value="提示：如果使用签名服务器，dIP"/>
    <!--#Sign Server端口（当KeyStoreType=1时，必输设定）-->
    <add key="SignServerPort" value="提示：如果使用签名服务器，请在此设定签名服务器的端口号"/>
    <!--#Sign Server密码（当KeyStoreType=1时，选择设定）-->
    <add key="SignServerPassword" value="提示：如果使用签名服务器，请在此设定签名服务器的密码"/>
    <!--   
    #===============================================================================
    -->
    
    
  </appSettings>


  <!--   
    #===============================================================================
    # 网上支付平台日志配置段 - 生产环境 - 请更改交易日志文件存放目录
    #===============================================================================
    -->
  <log4net>
    <appender name="LogFileAppender" type="log4net.Appender.FileAppender">
      <!--#交易日志文件存放位置  D:\workspace\b2cclient\Certificate\EC2010.logs-->
      <file value="D:\ABC_Bank.txt"/>
      <lockingModel type="log4net.Appender.FileAppender+MinimalLock"/>
      <appendToFile value="true"/>
      <rollingStyle value="Date"/>
      <datePattern value="yyyy-MM-dd HH:mm:ss"/>
      <layout type="log4net.Layout.PatternLayout">
        <footer value="by TrustPayClient"/>
        <conversionPattern value="%date [%thread] %-5level %logger [%ndc] &lt;%property{auth}&gt; - %message%newline"/>
      </layout>
    </appender>
    <root>
      <appender-ref ref="LogFileAppender"/>
    </root>
  </log4net>
  
  
  <system.webServer>
    <handlers>
      <remove name="BlockViewHandler"/>
      <add name="BlockViewHandler" path="*" verb="*" preCondition="integratedMode" type="System.Web.HttpNotFoundHandler" />
    </handlers>
  </system.webServer>

  <system.web>
    <compilation>
      <assemblies>
        <add assembly="System.Web.Mvc, Version=5.2.3.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
      </assemblies>
    </compilation>
  </system.web>
</configuration>
